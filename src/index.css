@tailwind base;
@tailwind components;
@tailwind utilities;

/* Definition of the design system. All colors, gradients, fonts, etc should be defined here. 
All colors MUST be HSL.
*/

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 215 25% 27%;

    --card: 0 0% 100%;
    --card-foreground: 215 25% 27%;

    --popover: 0 0% 100%;
    --popover-foreground: 215 25% 27%;

    --primary: 221 83% 53%;
    --primary-foreground: 0 0% 100%;
    --primary-hover: 221 83% 45%;

    --secondary: 210 40% 96%;
    --secondary-foreground: 215 25% 27%;

    --muted: 220 13% 91%;
    --muted-foreground: 215 16% 47%;

    --accent: 212 100% 97%;
    --accent-foreground: 215 25% 27%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 98%;

    --border: 220 13% 91%;
    --input: 220 13% 91%;
    --ring: 221 83% 53%;

    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;
    
    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;
    
    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    /* Study specific colors */
    --study-easy: 142 76% 36%;
    --study-medium: 38 92% 50%;
    --study-hard: 0 84% 60%;
    --study-again: 215 25% 27%;

    /* Gradients */
    --gradient-primary: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--primary-hover)));
    --gradient-card: linear-gradient(145deg, hsl(var(--card)), hsl(var(--accent)));
    
    /* Shadows */
    --shadow-card: 0 4px 6px -1px hsl(var(--primary) / 0.1), 0 2px 4px -1px hsl(var(--primary) / 0.06);
    --shadow-study: 0 10px 25px -3px hsl(var(--primary) / 0.1), 0 4px 6px -2px hsl(var(--primary) / 0.05);
    
    /* Animations */
    --transition-smooth: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);

    --radius: 0.5rem;

    --sidebar-background: 220 13% 9%;
    --sidebar-foreground: 210 40% 90%;
    --sidebar-primary: 221 83% 53%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 13% 15%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 220 13% 15%;
    --sidebar-ring: 221 83% 53%;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;

    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;

    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;

    --primary: 210 40% 98%;
    --primary-foreground: 222.2 47.4% 11.2%;

    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;

    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;

    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 212.7 26.8% 83.9%;
    --sidebar-background: 220 13% 6%;
    --sidebar-foreground: 210 40% 95%;
    --sidebar-primary: 221 83% 53%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 13% 12%;
    --sidebar-accent-foreground: 210 40% 98%;
    --sidebar-border: 220 13% 12%;
    --sidebar-ring: 221 83% 53%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground;
  }

  /* Regra global para evitar espaços em branco extras nas páginas */
  #root {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  /* Evita espaços extras no conteúdo principal */
  main {
    flex: 1;
    display: flex;
    flex-direction: column;
  }

  /* Estilos globais para conteúdo rico - garante formatação consistente */
  .rich-content-display {
    font-size: 16px;
    line-height: 1.8;
    color: hsl(var(--foreground));
  }
  
  .rich-content-display h1 {
    font-size: 2rem;
    font-weight: bold;
    color: hsl(var(--foreground));
    margin-bottom: 1rem;
    margin-top: 1.5rem;
    line-height: 1.2;
  }
  
  .rich-content-display h2 {
    font-size: 1.5rem;
    font-weight: 600;
    color: hsl(var(--foreground));
    margin-bottom: 0.75rem;
    margin-top: 1.25rem;
    line-height: 1.3;
  }
  
  .rich-content-display h3 {
    font-size: 1.25rem;
    font-weight: 500;
    color: hsl(var(--foreground));
    margin-bottom: 0.5rem;
    margin-top: 1rem;
    line-height: 1.4;
  }
  
  .rich-content-display h4 {
    font-size: 1.125rem;
    font-weight: 500;
    color: hsl(var(--foreground));
    margin-bottom: 0.5rem;
    margin-top: 1rem;
    line-height: 1.4;
  }
  
  .rich-content-display h5 {
    font-size: 1rem;
    font-weight: 500;
    color: hsl(var(--foreground));
    margin-bottom: 0.5rem;
    margin-top: 0.75rem;
    line-height: 1.5;
  }
  
  .rich-content-display h6 {
    font-size: 0.875rem;
    font-weight: 500;
    color: hsl(var(--muted-foreground));
    margin-bottom: 0.5rem;
    margin-top: 0.75rem;
    line-height: 1.5;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }
  
  .rich-content-display p {
    margin-bottom: 0.75rem;
    color: hsl(var(--foreground));
    line-height: 1.75;
  }
  
  .rich-content-display strong {
    font-weight: 600;
    color: hsl(var(--foreground));
  }
  
  .rich-content-display em {
    font-style: italic;
  }
  
  .rich-content-display code,
  .rich-content-display .inline-code {
    background-color: hsl(var(--muted));
    color: hsl(var(--muted-foreground));
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-family: 'Courier New', monospace;
    font-size: 0.875em;
    font-weight: inherit;
  }
  
  .rich-content-display pre,
  .rich-content-display .code-block {
    background-color: hsl(var(--muted));
    color: hsl(var(--muted-foreground));
    padding: 1rem;
    border-radius: 0.5rem;
    font-family: 'Courier New', monospace;
    font-size: 0.875rem;
    margin: 1rem 0;
    white-space: pre;
    overflow-x: auto;
    border: 1px solid hsl(var(--border));
  }
  
  .rich-content-display ul, .rich-content-display ol {
    margin-bottom: 0.75rem;
    color: hsl(var(--foreground));
    padding-left: 1.5rem;
  }
  
  .rich-content-display li {
    margin-bottom: 0.25rem;
    line-height: 1.75;
  }
  
  .rich-content-display blockquote {
    color: hsl(var(--muted-foreground));
    border-left: 4px solid hsl(var(--primary));
    padding-left: 1rem;
    margin: 1rem 0;
    font-style: italic;
    background-color: hsl(var(--muted)/0.3);
    padding: 1rem;
    border-radius: 0.5rem;
  }
  
  .rich-content-display mark,
  .rich-content-display .highlight {
    padding: 0.125rem 0.25rem;
    border-radius: 0.25rem;
    font-weight: inherit;
  }
  
  .rich-content-display hr {
    border: none;
    border-top: 2px solid hsl(var(--border));
    margin: 2rem 0;
  }
  
  .rich-content-display table {
    border-collapse: collapse;
    margin: 1rem 0;
    width: 100%;
    border: 1px solid hsl(var(--border));
  }
  
  .rich-content-display table td, .rich-content-display table th {
    border: 1px solid hsl(var(--border));
    padding: 0.5rem;
    text-align: left;
    vertical-align: top;
  }
  
  .rich-content-display table th {
    background-color: hsl(var(--muted));
    font-weight: 600;
  }
  
  .rich-content-display table tr:nth-child(even) {
    background-color: hsl(var(--muted)/0.5);
  }

  /* Estilos para callouts - mantém formatações do editor */
  .rich-content-display .callout,
  .rich-content-display [data-callout] {
    border-left: 4px solid;
    padding: 1rem;
    margin: 1rem 0;
    border-radius: 0 0.5rem 0.5rem 0;
    display: flex;
    align-items: flex-start;
    gap: 0.75rem;
    position: relative;
  }

  /* Ícones para callouts nos modos de visualização */
  .rich-content-display .callout::before,
  .rich-content-display [data-callout]::before {
    content: '';
    width: 20px;
    height: 20px;
    flex-shrink: 0;
    margin-top: 2px;
    background-size: 20px 20px;
    background-repeat: no-repeat;
    background-position: center;
  }

  .rich-content-display .callout[data-type="info"]::before,
  .rich-content-display [data-callout][data-type="info"]::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%233b82f6' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='m9 12 2 2 4-4'/%3E%3C/svg%3E");
  }

  .rich-content-display .callout[data-type="warning"]::before,
  .rich-content-display [data-callout][data-type="warning"]::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23f59e0b' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z'/%3E%3Cpath d='M12 9v4'/%3E%3Cpath d='m12 17 .01 0'/%3E%3C/svg%3E");
  }

  .rich-content-display .callout[data-type="success"]::before,
  .rich-content-display [data-callout][data-type="success"]::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%2322c55e' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M22 11.08V12a10 10 0 1 1-5.93-9.14'/%3E%3Cpath d='m9 11 3 3L22 4'/%3E%3C/svg%3E");
  }

  .rich-content-display .callout[data-type="error"]::before,
  .rich-content-display [data-callout][data-type="error"]::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%23ef4444' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='m15 9-6 6'/%3E%3Cpath d='m9 9 6 6'/%3E%3C/svg%3E");
  }

  .rich-content-display .callout[data-type="tip"]::before,
  .rich-content-display [data-callout][data-type="tip"]::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%239333ea' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5'/%3E%3Cpath d='M9 18h6'/%3E%3Cpath d='M10 22h4'/%3E%3C/svg%3E");
  }

  .rich-content-display .callout[data-type="note"]::before,
  .rich-content-display [data-callout][data-type="note"]::before {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Ccircle cx='12' cy='12' r='10'/%3E%3Cpath d='M12 16v-4'/%3E%3Cpath d='m12 8 .01 0'/%3E%3C/svg%3E");
  }
  
  .rich-content-display .callout[data-type="info"],
  .rich-content-display [data-callout][data-type="info"] {
    background-color: rgb(239 246 255);
    border-left-color: rgb(59 130 246);
  }
  
  .rich-content-display .callout[data-type="info"] *:not([style*="color"]),
  .rich-content-display [data-callout][data-type="info"] *:not([style*="color"]) {
    color: rgb(30 58 138);
  }
  
  .rich-content-display .callout[data-type="warning"],
  .rich-content-display [data-callout][data-type="warning"] {
    background-color: rgb(255 251 235);
    border-left-color: rgb(245 158 11);
  }
  
  .rich-content-display .callout[data-type="warning"] *:not([style*="color"]),
  .rich-content-display [data-callout][data-type="warning"] *:not([style*="color"]) {
    color: rgb(146 64 14);
  }
  
  .rich-content-display .callout[data-type="success"],
  .rich-content-display [data-callout][data-type="success"] {
    background-color: rgb(236 253 245);
    border-left-color: rgb(34 197 94);
  }
  
  .rich-content-display .callout[data-type="success"] *:not([style*="color"]),
  .rich-content-display [data-callout][data-type="success"] *:not([style*="color"]) {
    color: rgb(20 83 45);
  }
  
  .rich-content-display .callout[data-type="error"],
  .rich-content-display [data-callout][data-type="error"] {
    background-color: rgb(254 242 242);
    border-left-color: rgb(239 68 68);
  }
  
  .rich-content-display .callout[data-type="error"] *:not([style*="color"]),
  .rich-content-display [data-callout][data-type="error"] *:not([style*="color"]) {
    color: rgb(127 29 29);
  }
  
  .rich-content-display .callout[data-type="tip"],
  .rich-content-display [data-callout][data-type="tip"] {
    background-color: rgb(250 245 255);
    border-left-color: rgb(147 51 234);
  }
  
  .rich-content-display .callout[data-type="tip"] *:not([style*="color"]),
  .rich-content-display [data-callout][data-type="tip"] *:not([style*="color"]) {
    color: rgb(88 28 135);
  }
  
  .rich-content-display .callout[data-type="note"],
  .rich-content-display [data-callout][data-type="note"] {
    background-color: rgb(249 250 251);
    border-left-color: rgb(107 114 128);
  }
  
  .rich-content-display .callout[data-type="note"] *:not([style*="color"]),
  .rich-content-display [data-callout][data-type="note"] *:not([style*="color"]) {
    color: rgb(55 65 81);
  }
  
  /* Dark mode para callouts */
  .dark .rich-content-display .callout[data-type="info"],
  .dark .rich-content-display [data-callout][data-type="info"] {
    background-color: rgb(30 58 138 / 0.1);
  }
  
  .dark .rich-content-display .callout[data-type="info"] *:not([style*="color"]),
  .dark .rich-content-display [data-callout][data-type="info"] *:not([style*="color"]) {
    color: rgb(147 197 253);
  }
  
  .dark .rich-content-display .callout[data-type="warning"],
  .dark .rich-content-display [data-callout][data-type="warning"] {
    background-color: rgb(146 64 14 / 0.1);
  }
  
  .dark .rich-content-display .callout[data-type="warning"] *:not([style*="color"]),
  .dark .rich-content-display [data-callout][data-type="warning"] *:not([style*="color"]) {
    color: rgb(253 186 116);
  }
  
  .dark .rich-content-display .callout[data-type="success"],
  .dark .rich-content-display [data-callout][data-type="success"] {
    background-color: rgb(20 83 45 / 0.1);
  }
  
  .dark .rich-content-display .callout[data-type="success"] *:not([style*="color"]),
  .dark .rich-content-display [data-callout][data-type="success"] *:not([style*="color"]) {
    color: rgb(134 239 172);
  }
  
  .dark .rich-content-display .callout[data-type="error"],
  .dark .rich-content-display [data-callout][data-type="error"] {
    background-color: rgb(127 29 29 / 0.1);
  }
  
  .dark .rich-content-display .callout[data-type="error"] *:not([style*="color"]),
  .dark .rich-content-display [data-callout][data-type="error"] *:not([style*="color"]) {
    color: rgb(252 165 165);
  }
  
  .dark .rich-content-display .callout[data-type="tip"],
  .dark .rich-content-display [data-callout][data-type="tip"] {
    background-color: rgb(88 28 135 / 0.1);
  }
  
  .dark .rich-content-display .callout[data-type="tip"] *:not([style*="color"]),
  .dark .rich-content-display [data-callout][data-type="tip"] *:not([style*="color"]) {
    color: rgb(196 181 253);
  }
  
  .dark .rich-content-display .callout[data-type="note"],
  .dark .rich-content-display [data-callout][data-type="note"] {
    background-color: rgb(55 65 81 / 0.1);
  }
  
  .dark .rich-content-display .callout[data-type="note"] *:not([style*="color"]),
  .dark .rich-content-display [data-callout][data-type="note"] *:not([style*="color"]) {
    color: rgb(209 213 219);
  }
  
  /* Colunas */
  .rich-content-display .columns-wrapper {
    margin: 1rem 0;
  }
  
  .rich-content-display .columns-container {
    display: grid;
    gap: 1rem;
  }
  
  .rich-content-display .columns-container[data-columns="2"] {
    grid-template-columns: 1fr 1fr;
  }
  
  .rich-content-display .columns-container[data-columns="3"] {
    grid-template-columns: 1fr 1fr 1fr;
  }
  
  .rich-content-display .column-content {
    min-height: 60px;
    padding: 0.5rem;
    border: 1px dashed hsl(var(--border));
    border-radius: 0.25rem;
  }

  /* Estilos adicionais para mantém compatibilidade com Tiptap editor */
  .rich-content-display u {
    text-decoration: underline;
  }

  .rich-content-display sup {
    vertical-align: super;
    font-size: smaller;
  }

  .rich-content-display sub {
    vertical-align: sub;
    font-size: smaller;
  }

  .rich-content-display .editor-image {
    max-width: 100%;
    height: auto;
    margin: 1rem 0;
    border-radius: 0.5rem;
  }
}

/* Breathing Cards + Liquid Gradients Animations */
@keyframes gentle-flow {
  0%, 100% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
}

@keyframes single-pulse {
  0% {
    transform: scale(1);
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  }
  50% {
    transform: scale(1.02);
    box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  }
  100% {
    transform: scale(1);
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  }
}

@keyframes breathe {
  0%, 100% {
    transform: scale(1);
    box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
  }
  50% {
    transform: scale(1.005);
    box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  }
}